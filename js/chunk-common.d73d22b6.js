(globalThis["webpackChunkislands"]=globalThis["webpackChunkislands"]||[]).push([[64],{2334:(t,e,s)=>{"use strict";s.d(e,{Nc:()=>h,py:()=>a,wM:()=>n});const i=5,a={BUILDING:0,ENEMY:1,RESOURCE:2},n={CITY:0,BEACON:1,POINT:2,QUEST:3},r=[{typ:a.BUILDING,sub:n.QUEST,ico:[n.QUEST,n.QUEST+i],dsc:[""]}];class o{constructor(t,e=-1,s=-1,i=-1,a=-1,n=""){this.typ=t,e>-1&&(this.sub=e),this.tri=s,this.hex=i,this.ico=a,""!==n&&(this.dsc=n),this.ani=null}}class h extends o{constructor(t,e,s,o=-1,h=""){let l=-1==o?t:o;if(t==n.QUEST){let t=r.filter((t=>t.typ==a.BUILDING&&t.sub==n.QUEST));if(t.length){let e=choice(Math.random,t);l=Array.isArray(l.ico)?choice(Math.random,e.ico):e.ico,h=Array.isArray(l.dsc)?choice(Math.random,e.dsc):e.dsc}}super(a.BUILDING,t,e,s,l,h),t==n.POINT&&(this.ani=[...new Array(5)].map(((t,e)=>n.POINT+e*i)))}}},5259:(t,e,s)=>{"use strict";s.d(e,{oG:()=>M,lA:()=>x});var i=s(5962),a=s.n(i);class n extends a().Scene{constructor(){super("BattleView")}init(){}preload(){this.load.image("sky","assets/space3.png"),this.load.image("logo","assets/logo.png"),this.load.image("red","assets/red.png")}create(t){this.add.image(400,300,"sky");var e=this.add.particles("red"),s=e.createEmitter({speed:100,scale:{start:1,end:0},blendMode:"ADD"}),i=this.physics.add.image(400,100,"logo");i.setVelocity(100,200),i.setBounce(1,1),i.setCollideWorldBounds(!0),s.startFollow(i)}update(t,e){}}const r=n;var o=s(9085);class h extends a().Scene{constructor(){super("HangarView")}init(){}preload(){this.load.image("hangar","assets/images/hangar.jpg"),this.load.image("logo","assets/logo.png"),this.load.image("red","assets/red.png")}create(t){const e=(0,o.h)();e.scene="Hangar",this.add.image(400,300,"hangar");var s=this.add.particles("red");s.createEmitter({speed:70,scale:{start:.7,end:0},x:450,y:500,gravityY:-500,blendMode:"ADD"});var i=this.physics.add.image(400,100,"logo");i.setVelocity(30,40),i.setBounce(1,1),i.setCollideWorldBounds(!0),i.body.customBoundsRectangle.setPosition(350,300),i.body.customBoundsRectangle.setSize(200,200),this.input.on("pointerup",(()=>{this.exitFunc(this)})),this.game.events.on("exit",(()=>{this.exitFunc(this)}))}update(t,e){}exitFunc(t){this.game.events.removeListener("exit"),this.game.scene.stop("HangarView"),this.game.scene.start("PlanetView")}}const l=h;class c extends a().Scene{constructor(){super("JumpView")}init(){}preload(){const t=(0,o.h)();t.scene="Jump",this.load.image("sky","assets/space3.png"),this.load.image("logo","assets/logo.png"),this.load.image("red","assets/red.png")}create(t){this.add.image(400,300,"sky");var e=this.add.particles("red"),s=e.createEmitter({speed:100,scale:{start:1,end:0},blendMode:"ADD"}),i=this.physics.add.image(400,100,"logo");i.setVelocity(100,200),i.setBounce(1,1),i.setCollideWorldBounds(!0),s.startFollow(i),this.game.events.on("exit",(()=>{this.exitFunc(this)}))}update(t,e){}exitFunc(t){this.game.events.removeListener("exit"),this.game.scene.stop("JumpView"),this.game.scene.start("PlanetView")}}const d=c;var m=s(5031);const g=76,p=66;class u extends a().Scene{constructor(){super("PlanetView")}init(){}preload(){this.load.spritesheet("tiles","assets/images/tiles.png",{frameWidth:p,frameHeight:g}),this.load.spritesheet("sprites","assets/images/sprites.png",{frameWidth:50,frameHeight:70}),this.load.spritesheet("builds","assets/images/buildings.png",{frameWidth:p,frameHeight:g})}create(){const t=(0,o.h)();t.scene="Planet";const e=(0,m.g)();this.terrain=this.add.group(),this.builds=this.add.group(),console.log(this);const s=this.drawMap(e.loc_tri);this.terrain.dysplayX=Math.round(p*s.width)-p/2,this.terrain.dysplayY=Math.round(g*s.height*3/4-g/4),this.terrain.baseZoom=Math.max(800/this.terrain.dysplayX,600/this.terrain.dysplayY),this.terrain.zoom=this.terrain.baseZoom;let[i,n]=e.planet.map.th2xy(e.loc_tri,e.loc_hex);i*=p,n%2==1&&(i+=Math.round(p/2)),n=n*(3*g/4)+g/4,this.ship=this.add.sprite(i,n,"sprites",1),this.ship.depth=40,this.target=new(a().Math.Vector2),this.target.x=i,this.target.y=n,this.cameras.main.setBounds(0,0,this.terrain.dysplayX,this.terrain.dysplayY),this.cameras.main.startFollow(this.ship),this.cameras.main.setZoom(this.terrain.baseZoom),this.game.events.on("enter",(()=>{this.removeEvents(),this.scene.stop("PlanetView"),this.scene.start("HangarView")})),this.game.events.on("stars",(()=>{this.removeEvents(),this.scene.stop("PlanetView"),this.scene.start("StarMapView")})),this.game.events.on("jump",(()=>{this.removeEvents(),this.scene.stop("PlanetView"),this.scene.start("JumpView")})),this.game.events.on("zoomIn",(()=>{var t=1.1*this.cameras.main.zoom;g*t>600&&(t=600/g),this.cameras.main.zoom=t})),this.game.events.on("zoomOut",(()=>{var t=.9*this.cameras.main.zoom;t<2*terrain.baseZoom&&(t=2*terrain.baseZoom),this.cameras.main.zoom=t})),this.game.events.on("zoomReset",(()=>{this.cameras.main.zoom=2*terrain.baseZoom})),this.input.keyboard.on("keydown",(t=>{"KeyE"==t.code&&this.game.events.emit("onMove",1),"KeyD"!=t.code&&"ArrowRight"!=t.code||this.game.events.emit("onMove",2),"KeyX"!=t.code&&"ArrowDown"!=t.code||this.game.events.emit("onMove",3),"KeyZ"==t.code&&this.game.events.emit("onMove",4),"KeyA"!=t.code&&"ArrowLeft"!=t.code||this.game.events.emit("onMove",5),"KeyW"!=t.code&&"ArrowUp"!=t.code||this.game.events.emit("onMove",6)})),this.game.events.on("onMove",(s=>{const i=e.planet.map.move(e.loc_tri,e.loc_hex,s);if(i.tri!=e.loc_tri){this.drawMap(i.tri);let[t,s]=e.planet.map.th2xy(e.loc_tri,e.loc_hex),[a,n]=e.planet.map.th2xy(i.tri,i.hex);a*=p,n%2==1&&(a+=Math.round(p/2)),n=n*(3*g/4)+g/4,t*=p,s%2==1&&(t+=Math.round(p/2)),s=s*(3*g/4)+g/4,this.tweens.killAll(),this.ship.setPosition(t,s),this.tweens.add({targets:this.ship,x:a,y:n,delay:300,duration:1500,ease:"Power2"})}else i.hex!=e.loc_hex&&(this.target.y=i.y,this.target.x=i.x*p,this.target.y%2==1&&(this.target.x+=Math.round(p/2)),this.target.y=this.target.y*(3*g/4)+g/4,this.tweens.add({targets:this.ship,x:this.target.x,y:this.target.y,delay:300,duration:1500,ease:"Power2"}));0<s&&s<=6&&this.ship.setFrame(s-1);let a=e.planet.map.hasBld(i.tri,i.hex);t.blds=a,e.loc_tri=i.tri,e.loc_hex=i.hex})),setTimeout((()=>{this.cameras.main.zoom=2*this.terrain.baseZoom}),1)}update(t,e){}drawMap(t){const e=(0,m.g)();var s=e.planet.map.zone(t);this.terrain.clear(!0,!0);for(var i=0,a=g/4;i<s.map.length;i++){let t=0;i%2==1&&(t+=Math.round(p/2));for(var n=0;n<s.map[i].length;n++){var r=this.add.sprite(t,a,"tiles",s.map[i][n]);r.depth=10,this.terrain.add(r),t+=p}a+=Math.round(3*g/4)}return this.builds.clear(!0,!0),s.bld.forEach((t=>{var s=e.planet.map.th2xy(t.tri,t.hex);let i=s[1]*Math.round(3*g/4),a=s[0]*p;s[1]%2==1&&(a+=Math.round(p/2));var n=this.add.sprite(a,i,"builds",t.ico);null!=t.ani&&(n.anims.create({key:"spin",frames:this.anims.generateFrameNumbers("builds",{frames:t.ani}),frameRate:t.ani.length,repeat:-1}),n.play("spin")),n.depth=20,this.builds.add(n)})),{width:s.map[0].length,height:s.map.length}}removeEvents(){this.game.events.removeListener("enter"),this.game.events.removeListener("onMove"),this.game.events.removeListener("zoomIn"),this.game.events.removeListener("zoomOut"),this.game.events.removeListener("zoomReset")}}const f=u;class w extends a().Scene{constructor(){super("StarMapView")}init(){}preload(){this.load.image("starMapBack","assets/images/nebula-wallpaper.jpeg"),this.load.image("nebula","assets/red.png")}create(t){const e=(0,o.h)();e.scene="StarMap",this.add.image(400,300,"starMapBack");var s=this.add.particles("nebula"),i=s.createEmitter({speed:100,scale:{start:1,end:0},blendMode:"ADD"}),a=this.physics.add.image(400,100,"nebula");a.setVelocity(100,200),a.setBounce(1,1),a.setCollideWorldBounds(!0),i.startFollow(a),this.game.events.on("close",(()=>{this.game.events.removeListener("close"),this.scene.stop("StarMapView"),this.scene.start(e.beforeMap)}))}update(t,e){}}const y=w,b={type:a().AUTO,width:800,height:600,parent:"gamediv",physics:{default:"arcade",arcade:{gravity:{y:0}}},scale:{mode:a().Scale.FIT,autoCenter:a().Scale.CENTER_BOTH},scene:[l,f,r,d,y]};let x=null;const M=function(t){b.parent=t,x=new(a().Game)(b),window.ss=S,window.g=x},S=function(t){null!=x&&(x.scene.scenes.forEach((t=>{t.scene.stop()})),x.scene.scenes[0].scene.start(t))}},7907:(t,e,s)=>{"use strict";function i(t=null){null==t&&(t=Math.random);const e="ABOUSEITILETSTONLONUTHNOALLEXEGEZACEBISOUSESARMAINDIREA?ERATENBERALAVETIEDORQUANTEISRION";let s="",i=0;const a=t()<.15?2:t()<.5?3:4;for(let n=0;n<a;n++)i=2*Math.floor(43*t()),s+=e[i],"?"!==e[i+1]&&(s+=e[i+1]);return s.charAt(0)+s.slice(1).toLowerCase()}function a(t){if(isNaN(t))return"NaN";const e=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]];let s="";return e.forEach((e=>{while(t>=e[1])s+=e[0],t-=e[1]})),s}function n(t,e,s){return Math.floor(t()*(s-e)+e)}function r(t,e,s){return Math.floor(e*(n(t,0,s)+1))}function o(t,e){return e[n(t,0,e.length)]}function h(t,e,s){return t.substr(0,e)+s+t.substr(e+s.length)}s.d(e,{Ek:()=>i,FV:()=>r,Rc:()=>h,ak:()=>a,nS:()=>n,q$:()=>o})},5031:(t,e,s)=>{"use strict";s.d(e,{g:()=>w});var i=s(1809),a=s(9281),n=s.n(a),r=(s(9665),s(2334)),o=s(7907);class h{constructor(t){this.size=t,this.hex=new Array((t+1)*(t/2))}rq2idx(t,e){return t*(t+1)/2+e}idx2rq(t){let e=Math.floor((Math.sqrt(8*t+1)-1)/2),s=t-e*(e+1)/2;return[e,s]}fromFlatUp(t,e=0){if(t.length<this.size||t[0].length<this.size+e)throw"Not enough data for Triangle of "+this.size;for(let s=1,i=0;s<=this.size;s++){let a=Math.floor((this.size-s)/2);for(let n=0;n<s;n++)this.hex[i+n]=t[s-1][e+a+n];i+=s}}fromFlatDown(t,e=0){if(t.length<this.size||t[0].length<this.size+e)throw"Not enough data for Triangle of "+this.size;for(let s=1,i=0;s<=this.size;s++){let a=Math.floor((this.size-s)/2);for(let n=0;n<s;n++)this.hex[i+n]=t[this.size-s][e+a+s-n-1];i+=s}}turn(t){let e=new Array(this.size);for(let i=0;i<this.size;i++)e[i]=new Array(this.size);let s=0;for(let i=0;i<this.size;i++)for(let a=0;a<=i;a++)t?e[a+this.size-i-1][this.size-i-1]=this.hex[s]:e[this.size-a-1][i]=this.hex[s],s++;if(t)for(let i=0;i<this.size-1;i++)e[i].splice(i+1);else for(let i=0;i<this.size-1;i++)e[i].splice(0,this.size-i-1);return e.flat()}}class l{constructor(t,e,s,i=!1){this.isMain=i,this.triSize=e,this.seed=s,this.triangles=new Array(t);for(let a=0;a<this.triangles.length;a++)this.triangles[a]=new h(e);this.connections=[...Array(t)].map((e=>Array(t))),this.fill=[["d","u","d","u","d"],["u","d","u","d","u"],["d","u","d","u","d"]],this.coords=[],this.buildings=[],this.objects=[]}hasBld(t,e){let s=!1;return this.buildings.forEach(((i,a)=>{i.tri==t&&i.hex==e&&(s=i,s.idx=a)})),s}move(t,e,s){let[i,a]=this.th2xy(t,e),n=i,r=a;switch(s){case 1:r=a-1,n=i,a%2==1&&n++;break;case 2:n++;break;case 3:r=a+1,n=i,a%2==1&&n++;break;case 4:r=a+1,n=i-1,a%2==1&&n++;break;case 5:n--;break;case 6:r=a-1,n=i-1,a%2==1&&n++;break}(n<0||n>=this.coords[0].length)&&(n=i,r=a),(r<0||r>=this.coords.length)&&(n=i,r=a);let[o,h]=this.xy2th(n,r);return 3==this.triangles[o].hex[h]&&(o=t,h=e),{tri:o,hex:h,x:n,y:r}}generate(){const t=n()("ent"+this.seed);if(this.zone(0),this.buildings=[],this.isMain){let e=(0,o.nS)(t,0,this.triangles[0].hex.length);while(0!=this.triangles[0].hex[e])e=(0,o.nS)(t,0,this.triangles[0].hex.length);this.buildings.push(new r.Nc(r.wM.CITY,0,e)),e=(0,o.nS)(t,0,this.triangles[0].hex.length);while(0!=this.triangles[0].hex[e]||this.hasBld(0,e))e=(0,o.nS)(t,0,this.triangles[0].hex.length);this.buildings.push(new r.Nc(r.wM.BEACON,0,e))}for(let e=0;e<Math.ceil((this.triSize-11)/3);e++){let e=(0,o.nS)(t,0,this.triangles.length),s=(0,o.nS)(t,0,this.triangles[0].hex.length);while(0!=this.triangles[e].hex[s]||this.hasBld(e,s))s=(0,o.nS)(t,0,this.triangles[0].hex.length);this.buildings.push(new r.Nc(r.wM.POINT,e,s))}}xy2th(t,e){return 0<e&&e<this.coords.length&&0<t&&t<this.coords[e].length?this.coords[e][t]:[null,null]}th2xy(t,e){const s=Math.round(this.triSize/2),i=s%2==1?s-1:s;for(let a=1;a<4;a++)if(this.fill[1][a]==t){let n=s+(a-2)*s,r=i;const o=n+this.triSize,h=r+this.triSize;for(;r<h;r++)for(let s=n;s<o;s++){let i=this.coords[r][s];if(i[0]==t&&i[1]==e)return[s,r]}}if(this.fill[2][2]==t){let a=s,n=i+this.triSize;const r=a+this.triSize,o=n+this.triSize;for(;n<o&&n<this.coords.length;n++)for(let s=a;s<r;s++){let i=this.coords[n][s];if(i[0]==t&&i[1]==e)return[s,n]}}return[null,null]}zone(t){this.fill=[["d","u","d","u","d"],["u","d","u","d","u"],["d","u","d","u","d"]];const e=2*this.triSize+1;let s=[...Array(e)].map((t=>new Array(e).fill(0)));this.coords=[...Array(e)].map((t=>new Array(e).fill(0)));const i=Math.round(this.triSize/2),a=i%2==1?i-1:i;let n=[];n.push([t,0,1,2]);while(n.length>0){let[t,e,r,o]=n.pop();if(!Number.isInteger(this.fill[r][o])){let l=i+(o-2)*i;const c=a+(r-1)*this.triSize;0==r&&o>2&&l--;let d=new h(this.triSize);for(let e=0;e<d.hex.length;e++)d.hex[e]=[t,e];if(2==r&&l--,this.putTriangleToMap(s,l,c,this.triangles[t],e),this.putTriangleToMap(this.coords,l,c,d,e),"u"==this.fill[r][o]){let s,i,a,h;s=o,i=r+1,a=this.connections[t][e%3][0],h=(this.connections[t][e%3][1]+e)%6,0<=s&&s<5&&0<=i&&i<3&&n.push([a,h,i,s]),s=o-1,i=r,a=this.connections[t][(e+1)%3][0],h=(this.connections[t][(e+1)%3][1]+e)%6,0<=s&&s<5&&0<=i&&i<3&&n.push([a,h,i,s]),s=o+1,i=r,a=this.connections[t][(e+2)%3][0],h=(this.connections[t][(e+2)%3][1]+e)%6,0<=s&&s<5&&0<=i&&i<3&&n.push([a,h,i,s])}else{let s,i,a,h;s=o,i=r-1,a=this.connections[t][e%3][0],h=(this.connections[t][e%3][1]+e)%6,0<=s&&s<5&&0<=i&&i<3&&n.push([a,h,i,s]),s=o+1,i=r,a=this.connections[t][(e+1)%3][0],h=(this.connections[t][(e+1)%3][1]+e)%6,0<=s&&s<5&&0<=i&&i<3&&n.push([a,h,i,s]),s=o-1,i=r,a=this.connections[t][(e+2)%3][0],h=(this.connections[t][(e+2)%3][1]+e)%6,0<=s&&s<5&&0<=i&&i<3&&n.push([a,h,i,s])}this.fill[r][o]=t}}return{map:s,bld:this.buildings,obj:[]}}triHexToZonePoint(t,e){return[y,x]}putTriangleToMap(t,e,s,i,a){switch(a){case 0:this.putOnMapUp(t,e,s,i.hex,i.size);break;case 1:this.putOnMapDown(t,e,s,i.turn(!1),i.size);break;case 2:this.putOnMapUp(t,e,s,i.turn(!0),i.size);break;case 3:this.putOnMapDown(t,e,s,i.hex,i.size);break;case 4:this.putOnMapUp(t,e,s,i.turn(!1),i.size);break;case 5:this.putOnMapDown(t,e,s,i.turn(!0),i.size);break}}putOnMapUp(t,e,s,i,a){let n=0,r=0;for(let o=0;o<a;o++)for(let h=0;h<o+1;h++){let l=s+o;r=e+Math.floor((a-o)/2)+h,a%2==1?l%2==1&&s%2==0&&r--:l%2==0&&s%2==1&&r++,0<=l&&l<t.length&&0<=r&&r<t[0].length&&(t[l][r]=i[n]),n++}}putOnMapDown(t,e,s,i,a){let n=0,r=0;for(let o=0;o<a;o++)for(let h=0;h<o+1;h++){let l=s+a-o-1;r=e+Math.floor((a-o)/2)+(o-h),l%2==1&&s%2==0&&r--,0<=l&&l<t.length&&0<=r&&r<t[l].length&&(t[l][r]=i[n]),n++}}fillPlane(t,e,s,i,a=.5,n=.5){function r(s,i,a){switch(a){case 0:i-=1,i<0&&(i=e-1);break;case 1:s+=1,s==t&&(s=0);break;case 2:i+=1,i==e&&(i=0);break;case 3:s-=1,s<0&&(s=t-1);break}return[s,i]}const h=Array(e).fill(" ".repeat(t));let l=Math.floor(t*e*(i+s()*i/10)),c=Math.floor(s()*t),d=Math.floor(s()*e),m=-1;while(l>0){h[d]=(0,o.Rc)(h[d],c,"."),l-=1;let i=s();if(-1===m||i<a){let t=Math.floor(4*s());i<a&&t==m&&(t=(t+1)%4),m=t}let g=r(c,d,m);if(c=g[0],d=g[1],"."===h[d][c]){if(s()<n){g=r(c,d,m);while("."===h[g[1]][g[0]]){if(g[0]===c&&g[1]===d)break;g=r(g[0],g[1],m)}c=g[0],d=g[1]}if("."===h[d][c])while("."===h[d][c])c=Math.floor(s()*t),d=Math.floor(s()*e)}}return h}}class c extends l{constructor(t,e,s,i=!1){super(4,t,s,i),this.terrain=e}fromFlat(t){const e=this.triSize%2,s=2*this.triSize+3-e;if(t.length<this.triSize||t[0].length<s)throw"Not enough data for "+this.triSize;this.triangles[0].fromFlatUp(t,0),this.triangles[0].hex=this.triangles[0].turn(!1),this.triangles[0].con=[3,3,2],this.triangles[1].fromFlatDown(t,Math.floor(this.triSize/2)+e),this.triangles[1].con=[2,3,2],this.triangles[2].fromFlatUp(t,this.triSize+e),this.triangles[2].con=[1,3,2],this.triangles[2].hex=this.triangles[2].turn(!0),this.triangles[3].fromFlatDown(t,Math.floor(3*this.triSize/2)+1+e),this.triangles[3].hex=this.triangles[3].turn(!0),this.triangles[3].con=[1,1,1],this.connections=[[[3,5,3],[1,1,3],[2,5,2]],[[3,1,2],[2,1,3],[0,5,2]],[[3,3,1],[0,1,3],[1,5,2]],[[2,3,1],[1,5,1],[0,1,1]]]}generate(){const t=n()(this.seed),e=Math.floor(7*this.triSize/2)+5,s=new Array,i=this.fillPlane(e,this.triSize,t,.3,.8,.8),a=this.fillPlane(e,this.triSize,t,.3,.3,.8),r=this.fillPlane(e,this.triSize,t,.15,.3,.3),o=this.fillPlane(e,this.triSize,t,.1,.2,.2);for(let n=0;n<this.triSize;n++){let t=new Array(e);for(let s=0;s<e;s++){let e=0;"."===i[n][s]&&(e=1),"."===a[n][s]&&(e=2),"."===r[n][s]&&(e=3),"."===o[n][s]&&(e=4),t[s]=e}s.push(t)}this.fromFlat(s),super.generate()}}const d=["RED","ORANGE","YELLOW","BLUE","WHITE"],m=[6,7,7,8,8,9],g=[[.2,.3,.4,.5,.7,.9,1.1,1.4,1.7,2],[2.5,3,3.5,4,4.5,5,5.5,6],[7,8,9,10,11,12]];function p(t,e,s="t"){return{mass:t,orbit:e,terrain:s,map:null,str(){return"M: "+this.mass+"; O: "+this.orbit+"; T: "+this.terrain}}}function u(t){const e={color:(0,o.nS)(t,0,d.length),planets:Array((0,o.FV)(t,2,7)),main:0,str:function(){return"COLOR: "+d[this.color]+"; P: "+this.planets.length+"("+this.main+"): "+this.planets[this.main].str()}};let s=(0,o.FV)(t,1,6);s=s<0?0:s<6?1:2,e.main=0==s?(0,o.FV)(t,1,4)-2:(0,o.FV)(t,1,4)+1,e.main>=e.planets.length-1&&(e.main=e.planets.length-1),e.main<0&&(e.main=0),e.planets[e.main]=p((0,o.q$)(t,m),(0,o.q$)(t,g[s]));const i=e.planets[e.main];let a=0,n=0;for(;a<g[0].length;a++)if(g[0][a]>i.orbit)break;let r=0;for(let h=0;h<e.main;h++){let s=-1;while(s<=r)s=g[0][(0,o.nS)(t,n,a-(e.main-h))];r=s;let i=(0,o.nS)(t,0,100);e.planets[h]=i<19?p(1,s,(0,o.q$)(t,"llrrr")):i<38?p(2,s,(0,o.q$)(t,"llrrrdddd")):i<57?p(3,s,(0,o.q$)(t,"llrrrddddtt")):i<60?p(0,s,"b"):i<73?p(4,s,(0,o.q$)(t,"rrddddtttw")):i<82?p(5,s,(0,o.q$)(t,"rrddtttwww")):i<90?p(6,s,(0,o.q$)(t,"rdddttttww")):i<96?p(7,s,(0,o.q$)(t,"rrrddddttiiii")):p(8,s,(0,o.q$)(t,"rrddttiiii"))}for(let h=e.main+1;h<e.planets.length;h++){let s=e.planets[h-1].orbit*(1.3+.01*(0,o.FV)(t,1,12));s=Math.round(10*s)/10;let i=(0,o.nS)(t,0,100);e.planets[h]=i<32?p((0,o.q$)(t,[2,3,4,5]),s,(0,o.q$)(t,"rriiiii")):i<41?p(0,s,"b"):i<59?p((0,o.q$)(t,[5,6,7]),s,(0,o.q$)(t,"rrwwwwwiiiiiii")):i<92?p((0,o.q$)(t,[6,7,8]),s,(0,o.q$)(t,"ttttwwwiiii")):p((0,o.q$)(t,[7,8,9]),s,(0,o.q$)(t,"tttwtwiwiii"))}for(let h=0;h<e.planets.length;h++){let s=e.planets[h].mass,i=e.planets[h].terrain;s>0&&"b"!=i&&(e.planets[h].map=new c(s+11,i,(0,o.nS)(t,0,1<<24),h==e.main))}return e}const f=70,w=(0,i.Q_)("gameData",{state:()=>({userName:"",key:"0",ss:null,home_name:"",loc_segment:-1,loc_star:0,loc_planet:-1,loc_tri:-1,loc_hex:-1,loc_bld:0,rng:null}),getters:{gameWidth(t){return 800},gameHeigth(t){return 600},loc(t){let e=t.home_name;return{segment:t.loc_segment,star:t.loc_star,planet:t.loc_planet,tri:t.loc_tri,hex:t.loc_hex,bld:t.loc_bld,name:function(){let s="on the "+e;return s=t.loc_planet<0?"somthere in the "+e+" system":s+" "+(0,o.ak)(t.loc_planet+1),s}}},planet(t){return{name:t.home_name+" "+(0,o.ak)(t.loc_planet+1),map:t.ss.planets[t.loc_planet].map}},json(t){const e=(new Date).toString().split(" ").slice(0,5).join(" ");let s={userName:t.userName,sDate:e.substring(0,e.length-3),key:t.key,home_name:t.home_name,loc_segment:t.loc_segment,loc_star:t.loc_star,loc_planet:t.loc_planet,loc_tri:t.loc_tri,loc_hex:t.loc_hex,loc_bld:t.loc_bld,rng:t.rng.state()};return JSON.stringify(s)}},actions:{makeSS(){let t;-1==this.loc_segment&&(t=n()(f)),this.ss=u(t)},newGame(t){this.userName=t,this.rng=n()(t,{state:!0}),this.home_name=(0,o.Ek)(this.rng),this.loc_segment=-1,this.loc_star=0,this.makeSS(),this.loc_planet=this.ss.main,this.ss.planets[this.loc_planet].map.generate(),this.loc_tri=this.ss.planets[this.loc_planet].map.buildings[0].tri,this.loc_hex=this.ss.planets[this.loc_planet].map.buildings[0].hex},fromJson(t){let e={};if("string"===typeof t||t instanceof String)e=JSON.parse(t);else{if("object"!==typeof t)throw"Argument neither string or object";e=t}this.userName=e.userName,this.key=e.key,this.home_name=e.home_name,this.loc_segment=e.loc_segment,this.loc_star=e.loc_star,this.loc_planet=e.loc_planet,this.loc_tri=e.loc_tri,this.loc_hex=e.loc_hex,this.loc_bld=e.loc_bld,this.rng=n()("",{state:e.rng}),this.makeSS(),this.ss.planets[this.loc_planet].map.generate()}}})},5042:()=>{}}]);